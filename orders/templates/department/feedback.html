{% extends 'department/base.html' %}
{% block content %}
<h3 class="mb-4"><i class="fas fa-comment me-2"></i>Recent Updates & Feedback</h3>
<div class="card shadow-sm">
  <div class="card-header bg-info text-white d-flex align-items-center">
    <i class="fas fa-comment me-2"></i>
    <span>Recent Updates & Feedback</span>
  </div>
  <div class="card-body">
    {% if feedbacks %}
    <ul class="list-group list-group-flush">
      {% for feedback in feedbacks %}
      <li class="list-group-item py-3">
        <div class="d-flex w-100 justify-content-between align-items-center mb-1">
          <h6 class="mb-0"><i class="fas fa-user-circle me-2 text-primary"></i>{{ feedback.subject }}</h6>
          <small class="text-muted"><i class="fas fa-calendar-alt me-1"></i>{{ feedback.date_sent|date:"M d, Y" }}</small>
        </div>
        <p class="mb-1">{{ feedback.message }}</p>
        <small class="text-muted"><i class="fas fa-user me-1"></i>From: {{ feedback.sent_by.get_full_name|default:feedback.sent_by.username }}</small>
      </li>
      {% endfor %}
    </ul>
    {% else %}
    <div class="text-center text-muted py-4">
      <i class="fas fa-inbox fa-3x mb-3"></i>
      <p>No feedback or updates available.</p>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
